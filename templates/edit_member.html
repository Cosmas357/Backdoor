<!DOCTYPE html>
<html>
<head>
    <title>Edit Member</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container mt-5">
    <h2 class="mb-4">Edit Member</h2>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-success">
          {{ messages[0] }}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('update_member', member_id=member.id) }}" class="row g-3">
        <div class="col-md-6">
            <label class="form-label">Name</label>
            <input type="text" name="name" value="{{ member.name }}" class="form-control" required>
        </div>

        <div class="col-md-6">
            <label class="form-label">Gender</label>
            <select name="gender" class="form-select">
                <option value="Male" {% if member.gender == 'Male' %}selected{% endif %}>Male</option>
                <option value="Female" {% if member.gender == 'Female' %}selected{% endif %}>Female</option>
            </select>
        </div>

        <div class="col-md-6">
            <label class="form-label">Contact</label>
            <input type="text" name="contact" value="{{ member.contact }}" class="form-control">
        </div>

        <div class="col-md-6">
            <label class="form-label">Residence</label>
            <input type="text" name="residence" value="{{ member.residence }}" class="form-control">
        </div>

        <div class="col-md-6">
            <label class="form-label">Home District</label>
            <input type="text" name="home_district" value="{{ member.home_district }}" class="form-control">
        </div>

        <div class="col-md-6">
            <label class="form-label">Marital Status</label>
            <input type="text" name="marital_status" value="{{ member.marital_status }}" class="form-control">
        </div>

        <div class="col-md-6">
            <label class="form-label">Course / Profession</label>
            <input type="text" name="course_Profession" value="{{ member.course_Profession }}" class="form-control">
        </div>

        <div class="col-md-6">
            <label class="form-label">Year of Study</label>
            <input type="text" name="year_of_study" value="{{ member.year_of_study }}" class="form-control">
        </div>

        <div class="col-md-6">
            <label class="form-label">First Time?</label>
            <select name="first_time" class="form-select">
                <option value="Yes" {% if member.first_time == 'Yes' %}selected{% endif %}>Yes</option>
                <option value="No" {% if member.first_time == 'No' %}selected{% endif %}>No</option>
            </select>
        </div>

        <div class="col-md-6">
            <label class="form-label">Center</label>
            <select name="center_id" class="form-select">
                {% for center in centers %}
                    <option value="{{ center.id }}" {% if member.center_id == center.id %}selected{% endif %}>{{ center.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="col-12">
            <button type="submit" class="btn btn-primary">Update</button>
            <a href="{{ url_for('database') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

</body>
</html>
